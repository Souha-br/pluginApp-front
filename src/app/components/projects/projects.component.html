<div class="projects-header">
  <div class="header-left">
    <h1>Projets Jira</h1>
  </div>
</div>

<div class="projects-filters">
  <div class="search-container">
    <input
      type="text"
      placeholder="Rechercher un projet..."
      [value]="searchTerm"
      (input)="onSearchChange($any($event.target).value)"
      class="search-input"
    />
    <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="11" cy="11" r="8"/>
      <path d="M21 21l-4.35-4.35"/>
    </svg>
  </div>
</div>


      <div class="jira-table-container">
        <table class="jira-table">
          <thead class="jira-table-header">
            <tr>
              <th class="project-column">Projet</th>
              <th class="key-column">Clé</th>
              <th class="type-column">Type de projet</th>
              <th class="lead-column">Chef de projet</th>
              <th class="category-column">Catégorie de projet</th>
              <th class="actions-column">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let project of paginatedProjects" class="jira-table-row">
              <td class="project-column">
                <div class="jira-project-cell">
                  <div class="jira-project-avatar" [style.background-color]="getProjectColor(project.key)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="white" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
                      <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
                    </svg>
                  </div>
                  <span class="jira-project-name">{{ project.name }}</span>
                </div>
              </td>
              <td class="key-column">{{ project.key }}</td>
              <td class="type-column">
                <div class="jira-project-type">
                  <div class="project-type-icon" [style.background-color]="getProjectTypeColor(project.categoryName)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="white" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <circle cx="12" cy="12" r="10"/>
                    </svg>
                  </div>
                </div>
              </td>
              <td class="lead-column">
                <div *ngIf="project.leadName" class="jira-lead-info">
                  <span class="jira-lead-name">{{ project.leadName }}</span>
                  <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#0052cc" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/>
                    <circle cx="12" cy="7" r="4"/>
                  </svg>
                </div>
                <span *ngIf="!project.leadName" class="jira-empty-value">Pas de chef</span>
              </td>
              <td class="category-column">
                <span *ngIf="project.categoryName" class="jira-category">{{ project.categoryName }}</span>
                <span *ngIf="!project.categoryName" class="jira-empty-value">Pas de catégorie</span>
              </td>
              <td class="actions-column">
                <button class="jira-action-button always-visible" (click)="navigateToProjectIssues(project.key)">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14 2 14 8 20 8"/>
                  </svg>
                  Voir les tickets
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

